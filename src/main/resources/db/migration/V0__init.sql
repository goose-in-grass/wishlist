CREATE TABLE flyway_schema_history (
  installed_rank INTEGER NOT NULL,
   version VARCHAR(50),
   description VARCHAR(200) NOT NULL,
   type VARCHAR(20) NOT NULL,
   script VARCHAR(1000) NOT NULL,
   checksum INTEGER,
   installed_by VARCHAR(100) NOT NULL,
   installed_on TIMESTAMP WITHOUT TIME ZONE DEFAULT NOW() NOT NULL,
   execution_time INTEGER NOT NULL,
   success BOOLEAN NOT NULL,
   CONSTRAINT flyway_schema_history_pk PRIMARY KEY (installed_rank)
);

CREATE TABLE users (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
   created_at TIMESTAMP WITHOUT TIME ZONE,
   email VARCHAR(255) NOT NULL,
   password VARCHAR(255) NOT NULL,
   updated_at TIMESTAMP WITHOUT TIME ZONE,
   username VARCHAR(50) NOT NULL,
   CONSTRAINT users_pkey PRIMARY KEY (id)
);

CREATE TABLE items (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
   created_at TIMESTAMP WITHOUT TIME ZONE,
   description VARCHAR(100) NOT NULL,
   title VARCHAR(50) NOT NULL,
   updated_at TIMESTAMP WITHOUT TIME ZONE,
   user_id BIGINT,
   CONSTRAINT items_pkey PRIMARY KEY (id)
);

CREATE INDEX flyway_schema_history_s_idx ON flyway_schema_history(success);

ALTER TABLE users ADD CONSTRAINT uk6dotkott2kjsp8vw4d0m25fb7 UNIQUE (email);

ALTER TABLE users ADD CONSTRAINT ukr43af9ap4edm43mmtq01oddj6 UNIQUE (username);

ALTER TABLE items ADD CONSTRAINT ukrptahm7f468px5em81fhm1dg0 UNIQUE (title);

CREATE SEQUENCE  IF NOT EXISTS user_seq AS bigint START WITH 1 INCREMENT BY 50 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1;

CREATE SEQUENCE  IF NOT EXISTS users_seq AS bigint START WITH 1 INCREMENT BY 50 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1;

ALTER TABLE items ADD CONSTRAINT fkft8pmhndq1kntvyfaqcybhxvx FOREIGN KEY (user_id) REFERENCES users (id) ON UPDATE NO ACTION ON DELETE NO ACTION;